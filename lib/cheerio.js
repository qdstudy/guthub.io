/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/cheerio@1.0.0/dist/commonjs/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__exportStar=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||__createBinding(t,e,r)},__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.merge=exports.contains=void 0,exports.loadBuffer=loadBuffer,exports.stringStream=stringStream,exports.decodeStream=decodeStream,exports.fromURL=fromURL,__exportStar(require("./load-parse.js"),exports);var static_js_1=require("./static.js");Object.defineProperty(exports,"contains",{enumerable:!0,get:function(){return static_js_1.contains}}),Object.defineProperty(exports,"merge",{enumerable:!0,get:function(){return static_js_1.merge}});const parse5_htmlparser2_tree_adapter_1=require("parse5-htmlparser2-tree-adapter"),htmlparser2=__importStar(require("htmlparser2")),parse5_parser_stream_1=require("parse5-parser-stream"),encoding_sniffer_1=require("encoding-sniffer"),undici=__importStar(require("undici")),whatwg_mimetype_1=__importDefault(require("whatwg-mimetype")),node_stream_1=require("node:stream"),options_js_1=require("./options.js"),load_parse_js_1=require("./load-parse.js");function loadBuffer(e,t={}){const r=(0,options_js_1.flattenOptions)(t),n=(0,encoding_sniffer_1.decodeBuffer)(e,{defaultEncoding:(null==r?void 0:r.xmlMode)?"utf8":"windows-1252",...t.encoding});return(0,load_parse_js_1.load)(n,r)}function _stringStream(e,t){var r;if(null==e?void 0:e._useHtmlParser2){const r=htmlparser2.createDocumentStream(((e,r)=>t(e,(0,load_parse_js_1.load)(r))),e);return new node_stream_1.Writable({decodeStrings:!1,write(e,t,n){if("string"!=typeof e)throw new TypeError("Expected a string");r.write(e),n()},final(e){r.end(),e()}})}null!=e||(e={}),null!==(r=e.treeAdapter)&&void 0!==r||(e.treeAdapter=parse5_htmlparser2_tree_adapter_1.adapter),!1!==e.scriptingEnabled&&(e.scriptingEnabled=!0);const n=new parse5_parser_stream_1.ParserStream(e);return(0,node_stream_1.finished)(n,(e=>t(e,(0,load_parse_js_1.load)(n.document)))),n}function stringStream(e,t){return _stringStream((0,options_js_1.flattenOptions)(e),t)}function decodeStream(e,t){var r;const{encoding:n={},...o}=e,a=(0,options_js_1.flattenOptions)(o);null!==(r=n.defaultEncoding)&&void 0!==r||(n.defaultEncoding=(null==a?void 0:a.xmlMode)?"utf8":"windows-1252");const i=new encoding_sniffer_1.DecodeStream(n),s=_stringStream(a,t);return i.pipe(s),i}const defaultRequestOptions={method:"GET",maxRedirections:5,throwOnError:!0,headers:{accept:"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"}};async function fromURL(e,t={}){var r;const{requestOptions:n=defaultRequestOptions,encoding:o={},...a}=t;let i;null!==(r=n.headers)&&void 0!==r||(n.headers=defaultRequestOptions.headers);const s=new Promise(((t,r)=>{i=undici.stream(e,n,(n=>{var i,s;const d=null!==(i=n.headers["content-type"])&&void 0!==i?i:"text/html",_=new whatwg_mimetype_1.default(Array.isArray(d)?d[0]:d);if(!_.isHTML()&&!_.isXML())throw new RangeError(`The content-type "${d}" is neither HTML nor XML.`);o.transportLayerEncodingLabel=_.parameters.get("charset");const u=null===(s=n.context)||void 0===s?void 0:s.history;return decodeStream({encoding:o,xmlMode:_.isXML(),baseURL:u?u[u.length-1]:e,...a},((e,n)=>e?r(e):t(n)))}))}));return await i,s}
//# sourceMappingURL=/sm/971ab8b7b4317db4eb6e3187a36c769a43f3bfc776f898366c371bd9a936af70.map